(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],d=0,u=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&u.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);m&&m(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,s=1;s<a.length;s++){var i=a[s];0!==o[i]&&(r=!1)}r&&(n.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},s={app:0},o={app:0},n=[];function i(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"b3ef98cc"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={about:1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"1853bd20"}[t]+".css",o=l.p+r,n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var c=n[i],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===o))return e()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){c=u[i],d=c.getAttribute("data-href");if(d===r||d===o)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||o,n=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=r,delete s[t],m.parentNode.removeChild(m),a(n)},m.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(m)})).then((function(){s[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=n);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=i(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",u.name="ChunkLoadError",u.type=r,u.request=s,a[1](u)}o[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0b8a":function(t,e,a){},"0e4c":function(t,e,a){"use strict";var r=a("8fb8"),s=a.n(r);s.a},1456:function(t,e,a){"use strict";var r=a("e963"),s=a.n(r);s.a},"1a8c":function(t,e,a){},"314e":function(t,e,a){},3359:function(t,e,a){"use strict";var r=a("941d"),s=a.n(r);s.a},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=o,t.exports=s,s.id="4678"},"4c44":function(t,e,a){"use strict";var r=a("d2b0"),s=a.n(r);s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("d3b7");var r=a("5530"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("0cdd"),a("2b0e")),o=a("5f5b");a("ab8b"),a("2dd8");s["default"].use(o["b"]);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[null!=t.tokenRole?r("b-navbar",{staticClass:"m-3",attrs:{id:"nav"}},[r("b-navbar-brand",[r("img",{attrs:{id:"logo",src:a("59df")}})]),r("b-navbar-nav",{staticClass:"ml-auto"},[r("b-nav-item",{attrs:{to:"/calendar"}},[t._v("Calendar")]),r("b-nav-item",{attrs:{to:"/reports"}},[t._v("My Reports")]),"ROLE_ADMIN"===t.tokenRole?r("b-nav-item",{attrs:{to:"/administration"}},[t._v("Administration")]):t._e()],1),r("b-nav-item-dropdown",{staticClass:"ml-auto",staticStyle:{"list-style-type":"none"},attrs:{id:"moreOptions",text:t.tokenFirstName+" "+t.tokenLastName}},[r("b-dropdown-item",{attrs:{to:"/about"}},[t._v("View Profile")]),r("b-dropdown-item",{attrs:{id:"btnLogout"},on:{click:function(e){return t.$bvModal.show("modal-logout-confirmation")}}},[t._v("Logout")])],1)],1):t._e(),r("b-modal",{attrs:{id:"modal-logout-confirmation",title:"Logout","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"",size:"sm"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var a=e.cancel;return[r("b-button",{attrs:{id:"btn_cancel"},on:{click:function(t){return a()}}},[t._v("Cancel")]),r("b-button",{attrs:{id:"btn_logout",variant:"danger"},on:{click:t.logout}},[t._v("Logout")])]}}])},[r("p",{staticClass:"text-center",attrs:{id:"confirmMsg"}},[t._v("Are you sure you want to log out?")])]),r("router-view")],1)},i=[],l=a("d634"),c=a("2f62"),d={computed:Object(r["a"])({},l["a"],{login:function(){return this.$store.getters.loggedIn}}),components:{},data:function(){return{memberName:""}},methods:{logout:function(){var t=this;this.$store.dispatch("logout",!0).then((function(){t.$bvModal.hide("modal-logout-confirmation")}))}}},u=d,m=(a("5c0b"),a("2877")),h=Object(m["a"])(u,n,i,!1,null,null,null),p=h.exports,f=(a("45fc"),a("b0c0"),a("ac1f"),a("1276"),a("8c4f")),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-tabs",{attrs:{align:"center",pills:"",card:"",vertical:"","content-class":"pb-5"}},[a("b-tab",{attrs:{title:"Dashboard",showDash:t.showDash,"title-item-class":"pb-2"},on:{click:t.showDashboard}},[a("hours-summary",{staticClass:"mx-auto pr-5",staticStyle:{"max-width":"550px"},attrs:{id:"hoursSummary"}})],1),a("b-tab",{attrs:{id:"btn_report_1",title:"Member Stats Report","title-item-class":"pb-2"},on:{click:t.showDetailReport1}},[a("detail_report_1",{attrs:{showReport:t.showDetail1,currentPerson:t.tokenPerson}})],1),a("b-tab",{attrs:{id:"btn_report_2",title:"Workload Breakdown Report","title-item-class":"pb-2"},on:{click:t.showDetailReport2}},[a("detail_report_2",{attrs:{showReport:t.showDetail2,currentPerson:t.tokenPerson}})],1)],1)],1)},g=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail_rep_1"}},[a("b-modal",{attrs:{id:"modal-start-greater",title:"Error","no-close-on-esc":"","hide-footer":""}},[a("p",{staticClass:"my-2"},[t._v("Start date cannot be greater than end date")])]),t.showReport?a("div",{attrs:{id:"app"}},[a("b-container",[a("b-row",{staticClass:"pb-4"},[a("b-col",[a("h2",[t._v("Member Stats Report")])])],1),a("b-row",{staticClass:"pb-4"},[a("b-col",[a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_name"}},[t._v("Name:")]),a("span",{attrs:{id:"txt_name"}},[t._v(t._s(t.tokenFirstName+" "+t.tokenLastName))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_program"}},[t._v("Program:")]),a("span",{attrs:{id:"txt_program"}},[t._v(t._s(t.tokenCategoryName))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_status"}},[t._v("Employment Status:")]),a("span",{attrs:{id:"txt_status"}},[t._v(t._s(t.tokenEmploymentStatus))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_hours"}},[t._v("Weekly Scheduled Hours:")]),a("span",{attrs:{id:"txt_hours"}},[t._v(t._s(t.tokenScheduledHours))])])],1),a("b-row",[a("b-col",[a("label",{staticClass:"float-left font-weight-bold",attrs:{for:"start"}},[a("b",[t._v("Start")])]),a("b-form-datepicker",{attrs:{id:"start",size:"sm",placeholder:"YY/MM/DD","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},max:t.maxDate},on:{context:function(e){return t.onContext(t.startDate,t.endDate)}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t.validTimes?a("div",{staticClass:"text-danger float-left",attrs:{type:"info"}},[t._v("Please select the start date")]):t._e()],1),a("b-col",[a("label",{staticClass:"float-left font-weight-bold",attrs:{for:"end"}},[a("b",[t._v("End")])]),a("b-form-datepicker",{attrs:{id:"end",size:"sm",placeholder:"YY/MM/DD","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},min:t.startDate,max:t.maxDate},on:{context:function(e){return t.onContext(t.startDate,t.endDate)}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1)],1),a("b-table",{ref:"TaskCatReportTable",staticClass:"ml-5 mr-5",attrs:{id:t.tableId,items:t.items,busy:t.isBusy,fields:t.fields,"tbody-transition-props":{name:"flip-list"},"sort-compare-options":{numeric:!0,sensitivity:"base"},"head-variant":"dark","no-provider-sorting":"","no-provider-paging":"",striped:"",hover:"","sort-icon-left":"",borderless:"",fixed:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle",staticStyle:{width:"5rem",height:"5rem"}}),a("strong",{staticClass:"d-block"},[t._v("Loading...")])],1)]},proxy:!0}],null,!1,3916441911)})],1):t._e()],1)},k=[],_={props:{showReport:{type:Boolean,default:!1},tableId:{type:String,default:"table-hoursOnTaskCat"},currentPerson:{}},data:function(){return{startDate:null,endDate:null,fields:[{key:"Timesheet Date",variant:"secondary",sortable:!0},{key:"Scheduled Paid Hours"},{key:"Actual Student Contact"},{key:"Actual Complementary Function"},{key:"Actual Other Assignment"},{key:"Actual Other Not Listed"},{key:"Timesheet Total"},{key:"variant hours"}],items:[],isBusy:!1,maxDate:new Date}},methods:{onContext:function(t,e){var a=new Date(t),r=new Date(e);null!=e&&a>r?(this.startDate=null,this.$bvModal.show("modal-start-greater")):null!=e&&a<=r&&null!=t&&this.getreport()},getreport:function(t){var e=this;this.isBusy=!0,this.axios.get(this.apiUrlBase+"/detail_report_1",{params:{start:this.startDate,end:this.endDate}}).then((function(t){e.isBusy=!1,e.items=t.data})).catch((function(t){e.items=[]}))}},computed:Object(r["a"])({validTimes:function(){return(null===this.startDate||""===this.startDate)&&null!==this.endDate}},l["a"])},w=_,y=(a("1456"),Object(m["a"])(w,v,k,!1,null,null,null)),C=y.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showReport?a("div",{attrs:{id:"detail_rep_2"}},[a("b-container",[a("b-row",{staticClass:"pb-4"},[a("b-col",[a("h2",{attrs:{id:"header_report_2"}},[t._v("Workload Breakdown Report")])])],1),a("b-row",{staticClass:"pb-4"},[a("b-col",[a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_name"}},[t._v("Name: ")]),a("span",{attrs:{id:"txt_name"}},[t._v(t._s(t.tokenFirstName+" "+t.tokenLastName))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_program"}},[t._v("Program: ")]),a("span",{attrs:{id:"txt_program"}},[t._v(t._s(t.tokenCategoryName))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_status"}},[t._v("Employment Status: ")]),a("span",{attrs:{id:"txt_status"}},[t._v(t._s(t.tokenEmploymentStatus))])]),a("b-row",{staticClass:"p-2"},[a("b",{staticClass:"pr-1",attrs:{id:"lbl_hours"}},[t._v("Weekly Scheduled Hours: ")]),a("span",{attrs:{id:"txt_hours"}},[t._v(t._s(t.tokenScheduledHours))])])],1),a("b-row",[a("b-col",[a("label",{staticClass:"float-left font-weight-bold",attrs:{for:"start_date"}},[t._v("Date starting:")]),a("b-datepicker",{attrs:{id:"start_date",placeholder:"Please select date","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},max:null===t.endDate?t.maxDate:t.endDate},on:{context:function(e){return t.onContext(t.startDate,t.endDate)}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1),null===t.startDate?a("b-col",{staticClass:"font-weight-bold pt-1",attrs:{id:"txt_select_start"}},[t._v("Please select a starting date")]):a("b-col",[a("label",{staticClass:"float-left font-weight-bold",attrs:{for:"end_date"}},[t._v("Date ending:")]),a("b-datepicker",{attrs:{id:"end_date",placeholder:"Please select date","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},max:t.maxDate,min:t.startDate,value:t.endDate},on:{context:function(e){return t.onContext(t.startDate,t.endDate)}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)],1)],1),t.runReport?t._e():a("h3",{staticClass:"border border-dark rounded p-2 ml-5 mr-5",attrs:{id:"header_instruction_banner"}},[t._v("Please Select a Date Range to view Report")]),t.runReport?a("b-table-simple",{staticClass:"ml-5 mr-5",attrs:{id:"table_report",hover:"",outlined:"",bordered:"",small:""}},[a("colgroup",[a("col")]),a("colgroup",[a("col")]),a("colgroup",[a("col")]),a("b-thead",{attrs:{"head-variant":"dark"}},[a("b-th",{attrs:{variant:"dark"}},[t._v("Work Assignment")]),a("b-th",{attrs:{variant:"dark"}},[t._v("Work Task")]),a("b-th",{attrs:{variant:"dark"}},[t._v("Hours Worked")])],1),t._l(t.response,(function(e,r){return a("b-tbody",{key:r},[a("b-tr",[a("b-td",{staticClass:"font-weight-bold align-middle border-dark",attrs:{rowspan:e.count>0?e.count+1:1}},[t._v(t._s(e.category))])],1),t._l(e.data,(function(e,r){return a("b-tr",{key:r},[a("b-td",[t._v(t._s(e.task))]),a("b-td",[t._v(t._s(e.hours))])],1)}))],2)})),a("b-tfoot",{attrs:{"foot-variant":"dark"}},[a("b-tr",[a("b-td",{attrs:{variant:"dark"}}),a("b-td",{staticClass:"font-weight-bold",attrs:{variant:"dark"}},[t._v("Total Hours Worked")]),a("b-td",{staticClass:"font-weight-bold",attrs:{variant:"dark"}},[t._v(t._s(t.totalHours))])],1)],1)],2):t._e(),t.runReport?a("div",[a("b-table-simple",{staticClass:"ml-5 mr-5 mt-5",attrs:{id:"table_summary",hover:"",outlined:"",bordered:""}},[a("colgroup",[a("col")]),a("colgroup",[a("col")]),a("colgroup",[a("col")]),a("b-thead",{attrs:{"head-variant":"dark"}},[a("b-th",{attrs:{colspan:"3"}},[t._v("Summary for Date Range "+t._s(t.startDate)+" to "+t._s(t.endDate))])],1),a("b-tbody",[a("b-tr",[a("b-td",{staticClass:"font-weight-bold align-middle border-dark"},[t._v("Estimated Scheduled Hours: "+t._s(t.scheduledHours))]),a("b-td",{staticClass:"font-weight-bold align-middle border-dark"},[t._v("Total Hours Worked: "+t._s(t.totalHours))]),a("b-td",{staticClass:"font-weight-bold align-middle border-dark"},[t._v("Variance: "+t._s(t.totalHours-t.scheduledHours))])],1)],1),a("caption",{staticClass:"p-0 font-weight-bold small",attrs:{id:"caption_summary"}},[t._v("*Estimated scheduled hours determined by (Weekly Scheduled Hours / 7)*(Number of days in date range)")])],1)],1):t._e()],1):t._e()},D=[],x=(a("a434"),{name:"detail_report_2",props:{showReport:{type:Boolean,default:!1},currentPerson:{}},data:function(){return{startDate:null,endDate:null,response:[],totalHours:0,scheduledHours:0,runReport:!1,maxDate:new Date}},methods:{onContext:function(t,e){null!==t&&""!==t&&null!==e&&""!==e&&this.getReport()},getReport:function(){var t=this;this.axios({method:"GET",url:this.apiUrlBase+"/detail_report_2",header:{Accept:"application/ld+json"},params:{start:this.startDate,end:this.endDate}}).then((function(e){t.response=e.data,t.processResponse(),t.runReport=!0})).catch((function(e){t.response=[]}))},processResponse:function(){this.totalHours=this.response[0],this.scheduledHours=this.response[1],this.response.splice(0,2);for(var t=[],e=0;e<this.response.length;e++)0===this.response[e].count&&t.push(e);for(var a=t.length-1;a>=0;a--)this.response.splice(t[a],1)}},watch:{showReport:{deep:!0,handler:function(t){t||(this.startDate=null,this.endDate=null,this.runReport=!1,this.totalHours=0)}}},computed:Object(r["a"])({},l["a"]),mounted:function(){}}),T=x,$=(a("a450"),Object(m["a"])(T,E,D,!1,null,"1ad2ef5c",null)),j=$.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showDash?a("div",[a("span",{attrs:{id:"header"}},[a("b-button-group",[a("b-button",{staticClass:"spfa-dark",attrs:{id:"btn-prev-week",disabled:t.customTimeframe},on:{click:t.subtractWeek}},[a("b-icon",{attrs:{icon:"triangle-fill",rotate:"-90",scale:"1","shift-v":"-1","shift-h":"-1"}})],1),a("b-button",{staticClass:"spfa-dark",attrs:{id:"btn-next-week",disabled:t.viewingThisWeek||t.customTimeframe},on:{click:t.addWeek}},[a("b-icon",{attrs:{icon:"triangle-fill",rotate:"90",scale:"1","shift-v":"-1","shift-h":"-1"}})],1)],1),a("span",{staticClass:"mt-2",staticStyle:{width:"100%"}},[a("h3",[t._v(t._s(t.weekTitle))])]),t.customTimeframe?t._e():a("b-button",{staticClass:"spfa-dark",staticStyle:{width:"40%"},on:{click:function(e){return t.enableCustomRange()}}},[t._v(" Custom Dates ")]),t.customTimeframe?a("b-button",{staticClass:"spfa-dark",staticStyle:{width:"40%"},on:{click:t.resetWeek}},[t._v(" Current Week ")]):t._e()],1),a("span",{attrs:{id:"pickers"}},[t.customTimeframe?a("label",{staticClass:"ml-2 mt-3",attrs:{for:"startDate"}},[a("b",[t._v("Start")])]):t._e(),t.customTimeframe?a("b-form-datepicker",{staticClass:"text-center mx-3 ",staticStyle:{float:"left"},attrs:{id:"startDate",size:"sm","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"value-as-date":!0,max:t.pickerMax,state:t.dateError},on:{context:function(e){return t.onPickerUpdate(t.rangeStartDate,t.rangeEndDate)},input:function(e){t.checkDateError=!0}},model:{value:t.pickerStart,callback:function(e){t.pickerStart=e},expression:"pickerStart"}}):t._e(),t.customTimeframe?a("label",{staticClass:"ml-2 mt-3",attrs:{for:"endDate"}},[a("b",[t._v("End")])]):t._e(),t.customTimeframe?a("b-form-datepicker",{staticClass:"text-center mx-3",staticStyle:{float:"left"},attrs:{id:"endDate",size:"sm","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},"value-as-date":!0,max:t.pickerMax,state:t.dateError},on:{context:function(e){return t.onPickerUpdate(t.rangeStartDate,t.rangeEndDate)},input:function(e){t.checkDateError=!0}},model:{value:t.pickerEnd,callback:function(e){t.pickerEnd=e},expression:"pickerEnd"}}):t._e()],1),a("b-form-invalid-feedback",{staticClass:"w-50",attrs:{state:t.dateError,id:"error_endDate"}},[t._v("End Date must be after start date")]),a("span",[a("b-table",{staticClass:"mt-4",attrs:{fixed:"",striped:"","outlined:true":"",headVariant:"dark","foot-variant:dark":"",items:t.taskTotals,fields:t.fields,"sort-by":"task","custom-foot":""},scopedSlots:t._u([{key:"table-colgroup",fn:function(t){return[a("col",{staticStyle:{"text-align":"left",width:"70%"}})]}},t.loading?null:{key:"custom-foot",fn:function(){return[t.totalHours>0?a("b-td",{attrs:{variant:"info"}},[a("b",[t._v("Total")])]):t._e(),t.totalHours>0?a("b-td",{attrs:{variant:"info"}},[a("b",[t._v(t._s(t.totalHours))])]):a("b-td",{attrs:{variant:"danger",colspan:"2"}},[a("h4",[t._v("No time entered this week.")])])]},proxy:!0}],null,!0)}),t.loading?a("div",[a("b-spinner",{staticClass:"mt-5",staticStyle:{width:"5em",height:"5em"}})],1):t._e()],1)],1):t._e()},L=[],R=(a("d81d"),a("b680"),a("25f0"),a("6062"),a("3ca3"),a("ddb0"),a("b85c")),P=a("2909"),M=a("c1df"),N={name:"HoursSummary",props:{showDash:{type:Boolean,default:!0}},data:function(){return{thisWeekStartDate:{},thisWeekEndDate:{},rangeStartDate:{},rangeEndDate:{},pickerStart:{},pickerEnd:{},pickerMax:{},customTimeframe:!1,recordList:[],checkDateError:!1,viewingCustomRange:!1,loading:!1,fields:[{key:"task",sortable:!0},{key:"hours",sortable:!0}]}},methods:{getRecords:function(){var t=this;this.loading=!0,this.recordList=[],this.axios({method:"GET",url:this.apiUrlBase+"/timesheet_records?start[after]="+this.rangeStartDate.toString().substr(0,33)+"&end[before]="+this.rangeEndDate.toString().substr(0,33)+"&person.personID="+this.$store.getters.tokenPerson,headers:{Accept:"application/json"}}).then((function(e){t.recordList=e.data,t.loading=!1}))},subtractWeek:function(){this.rangeStartDate=M(this.rangeStartDate).subtract(1,"weeks"),this.rangeEndDate=M(this.rangeEndDate).subtract(1,"weeks"),this.dateToPicker(),this.getRecords()},addWeek:function(){this.rangeStartDate=M(this.rangeStartDate).add(1,"weeks"),this.rangeEndDate=M(this.rangeEndDate).add(1,"weeks"),this.dateToPicker(),this.getRecords()},resetWeek:function(){this.rangeStartDate=this.thisWeekStartDate,this.rangeEndDate=this.thisWeekEndDate,this.dateToPicker(),this.getRecords(),this.customTimeframe=!1},onPickerUpdate:function(){this.rangeStartDate=this.pickerStart,this.rangeEndDate=this.pickerEnd,this.getRecords()},dateToPicker:function(){this.pickerStart=this.rangeStartDate.toDate(),this.pickerEnd=this.rangeEndDate.toDate()},enableCustomRange:function(){this.customTimeframe=!0,this.checkDateError=!1}},computed:Object(r["a"])({taskTotals:function(){var t,e=[],a=Object(P["a"])(new Set(this.recordList.map((function(t){return t.task.title})))),r=Object(R["a"])(a);try{for(r.s();!(t=r.n()).done;){var s,o=t.value,n=0,i=Object(R["a"])(this.recordList);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(l.task.title===o){var c=M(l.start),d=M(l.end);n+=M.duration(d.diff(c)).asHours()}}}catch(u){i.e(u)}finally{i.f()}n!=Math.round(n)&&(n=parseFloat(n.toFixed(2))),e.push({task:o,hours:n})}}catch(u){r.e(u)}finally{r.f()}return e},totalHours:function(){var t,e=0,a=Object(R["a"])(this.taskTotals);try{for(a.s();!(t=a.n()).done;){var r=t.value;e+=r.hours}}catch(s){a.e(s)}finally{a.f()}return e},weekTitle:function(){var t,e=M(this.rangeEndDate).isSame(M(this.rangeStartDate),"month"),a=M(this.rangeEndDate).isSame(M(this.rangeStartDate),"year");return t=e?M(this.rangeStartDate).format("MMM D")+" - "+M(this.rangeEndDate).format("D, YYYY"):a?M(this.rangeStartDate).format("MMM D")+" - "+M(this.rangeEndDate).format("MMM D, YYYY"):M(this.rangeStartDate).format("MMM D, YYYY")+" - "+M(this.rangeEndDate).format("MMM D, YYYY"),t},viewingThisWeek:function(){return M(this.rangeEndDate).diff(M(this.thisWeekEndDate))>=0},dateError:function(){return this.checkDateError?M(this.rangeStartDate).diff(this.rangeEndDate)<=0:null}},l["a"]),mounted:function(){this.rangeStartDate=M().startOf("week"),this.rangeEndDate=M().endOf("week"),this.thisWeekStartDate=M().startOf("week"),this.thisWeekEndDate=M().endOf("week"),this.pickerMax=this.thisWeekEndDate.toDate(),this.dateToPicker(),this.getRecords(),this.customTimeframe=!1}},O=N,A=(a("dd50"),Object(m["a"])(O,S,L,!1,null,"71b868f6",null)),q=A.exports,I={components:{detail_report_2:j,detail_report_1:C,hoursSummary:q},data:function(){return{showDetail1:!1,showDetail2:!1,showDash:!0}},methods:{showDetailReport1:function(){this.showDetail1=!0,this.showDetail2=!1,this.showDash=!1},showDetailReport2:function(){this.showDetail2=!0,this.showDetail1=!1,this.showDash=!1},showDashboard:function(){this.showDash=!0,this.showDetail1=!1,this.showDetail2=!1}},computed:Object(r["a"])({},l["a"])},z=I,H=Object(m["a"])(z,b,g,!1,null,null,null),U=H.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("h1",[t._v("Calendar")]),a("div",{attrs:{id:"calendar"}},[a("Calendar")],1)])},B=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("div",[this.noTSR?a("h1",[t._v("No Records Available")]):t._e()]),a("div",{attrs:{id:"taskListBox"}},[a("TaskList",{attrs:{taskList:t.taskList}})],1),a("EditRecordModal",{attrs:{"current-record":t.confirmDetails,tasks:t.taskList},on:{delete:t.removeRecord,save:t.editRecordDetails}}),a("div",{attrs:{id:"calendarBox"}},[a("FullCalendar",{ref:"calendar",attrs:{defaultView:"timeGridWeek",plugins:t.calendarPlugins,header:{left:"prev,next today",center:"title",right:"timeGridDay,timeGridWeek,dayGridMonth"},buttonText:{today:"Today",month:"Month",week:"Week",day:"Day"},events:t.computedRecords,editable:!t.isBusy,"time-zone":"true","scroll-time":"07:00:00"},on:{eventReceive:t.preventMultDays,eventResize:t.preventMultDays,eventDrop:t.preventMultDays,eventRender:t.eventRender}}),a("div",{attrs:{id:"error"}},[t._v(t._s(t.error))]),t._m(0)],1)],1)},Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("Calendar from "),a("a",{attrs:{href:"https://fullcalendar.io/license"}},[t._v("Fullcalendar.io")]),t._v(" under "),a("a",{attrs:{href:"https://github.com/fullcalendar/fullcalendar/blob/master/LICENSE.txt"}},[t._v("MIT License")])])}],G=(a("7db0"),a("c740"),a("4160"),a("fb6a"),a("159b"),a("dc09")),J=a("a7c0"),V=a("88e1"),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w3-sidebar w3-bar-block",attrs:{id:"taskList"}},[t.taskList.length>0?a("ul",{attrs:{id:"itemList"}},[a("div",{staticClass:"accordion__panel accordion__panel--closed",staticStyle:{transform:"translate3d(0px, 0px, 0px)",height:"47px","margin-top":"10px"}},t._l(t.taskList,(function(e){return a("li",{key:e.id,staticClass:"list-group-item",attrs:{title:e.title,"data-id":e.taskID}},[t._v(" "+t._s(e.title)+" ")])})),0)]):!0===this.getLoading&&this.taskList.length>0?a("h2",[t._v("Loading...")]):!1===this.getLoading&&this.taskList.length<=0?a("h2",[t._v("No Tasks Available")]):t._e()])},K=[],Q={props:{taskList:null},data:function(){return{loading:!1}},methods:{},mounted:function(){},computed:{getLoading:function(){return this.loading}}},X=Q,tt=(a("cd84"),Object(m["a"])(X,Z,K,!1,null,"470df12a",null)),et=tt.exports,at=a("19bc"),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"modal-details",title:t.currentRecord.title+" - "+t.currentRecord.start.toString().substr(0,16),"no-close-on-esc":"","hide-footer":""},on:{shown:t.getTimes,hidden:t.resetModal}},[a("b-container",[a("b-row",[a("b-col",{staticClass:"col-2"},[a("b-row",{staticClass:"pt-2"},[a("label",[t._v("Start Time:")])]),a("b-row",{staticClass:"pr-1 pt-sm-3"},[a("label",[t._v("End Time:")])])],1),a("b-col",[a("b-row",{staticClass:"p-1"},[a("b-form-timepicker",{attrs:{id:"startTime",disabled:!t.editMode,"hide-header":"",state:t.timeError},on:{input:function(e){t.checkTimeError=!0}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),a("b-row",{staticClass:"p-1"},[a("b-form-timepicker",{attrs:{id:"endTime",disabled:!t.editMode,"hide-header":"",state:t.timeError},on:{input:function(e){t.checkTimeError=!0}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}}),a("b-form-invalid-feedback",{attrs:{id:"error_endTime"}},[t._v("End time must be later than start time")])],1)],1),a("b-col",{staticClass:"pt-1 pl-5",attrs:{"align-self":"center"}},[a("b-form-group",{attrs:{id:"site-radio",label:"Location: ",disabled:!t.editMode}},[a("b-form-radio",{attrs:{id:"on-site",name:"locationSelected",value:"on-site"},model:{value:t.currentRecord.siteLocation,callback:function(e){t.$set(t.currentRecord,"siteLocation",e)},expression:"currentRecord.siteLocation"}},[t._v("On-Site ")]),a("b-form-radio",{attrs:{id:"off-site",name:"locationSelected",value:"off-site"},model:{value:t.currentRecord.siteLocation,callback:function(e){t.$set(t.currentRecord,"siteLocation",e)},expression:"currentRecord.siteLocation"}},[t._v("Off-Site ")])],1)],1)],1),a("b-row",[a("b-col",[a("b-row",{staticClass:"pr-1 pt-2"},[a("label",[t._v("Task:")])])],1),a("b-col",{attrs:{cols:"10"}},[a("b-row",{staticClass:"p-1"},[a("b-form-group",[a("b-form-select",{attrs:{id:"task-picker",disabled:!t.editMode},model:{value:t.currentRecord.task,callback:function(e){t.$set(t.currentRecord,"task",e)},expression:"currentRecord.task"}},t._l(t.tasks,(function(e){return a("b-form-select-option",{key:e.taskID,attrs:{value:e.taskID}},[t._v(t._s(e.title))])})),1)],1)],1)],1)],1),a("b-row",[a("label",[t._v("Comments:")]),a("b-form-textarea",{attrs:{id:"commentArea",placeholder:"",rows:"3","max-rows":"100",disabled:!t.editMode,maxlength:"255"},model:{value:t.currentRecord.comment,callback:function(e){t.$set(t.currentRecord,"comment",e)},expression:"currentRecord.comment"}})],1),a("b-row",{staticClass:"btn-block  text-center",attrs:{"align-h":"center"}},[a("b-button",{staticClass:"mt-3 ml-4",staticStyle:{width:"30%"},attrs:{id:"btn_delete",variant:"danger"}},[t._v("Delete")]),a("b-popover",{ref:"popover",attrs:{target:"btn_delete",triggers:"click",placement:"top"},scopedSlots:t._u([{key:"title",fn:function(){return[a("b",[t._v("Are you sure to delete?")])]},proxy:!0}])},[a("b-button",{staticClass:"mt-3 mb-3 mr-3",staticStyle:{width:"30%",float:"right"},attrs:{id:"btn_yes",variant:"success"},on:{click:function(e){return t.deleteRecord()}}},[t._v("Yes ")]),a("b-button",{staticClass:"mt-3 mb-3 ml-3",staticStyle:{width:"30%",float:"left"},attrs:{id:"btn_no",variant:"danger"},on:{click:function(e){return t.popOverClose()}}},[t._v("No ")])],1),t.editMode?a("b-button",{staticClass:"mt-3 ml-5",staticStyle:{width:"30%"},attrs:{id:"btn_save",variant:"success"},on:{click:t.saveRecord}},[t._v("Save")]):a("b-button",{staticClass:"mt-3 ml-5",staticStyle:{width:"30%"},attrs:{id:"btn_edit",variant:"success"},on:{click:t.startEdit}},[t._v("Edit")])],1)],1)],1)],1)},st=[],ot=(a("c1df"),{name:"EditRecordModal",props:{currentRecord:{type:Object,default:function(){return{recordID:null,start:null,end:null,siteLocation:"",comment:null,task:"",person:null}}},tasks:{}},data:function(){return{startTime:null,endTime:null,editMode:!1,url:this.apiUrlBase+"/timesheet_records",checkTimeError:!1}},methods:{popOverClose:function(){this.stopEdit(),this.$refs.popover.$emit("close")},deleteRecord:function(){var t=this;this.stopEdit(),this.axios.delete(this.url+"/"+this.currentRecord.recordID).then((function(e){204===e.status&&(t.$emit("delete",t.currentRecord.recordID),t.$bvModal.hide("modal-details"))}))},resetModal:function(){this.stopEdit(),this.checkTimeError=!1},getTimes:function(){this.startTime=this.currentRecord.start.toString().substr(17,8),this.endTime=this.currentRecord.end.toString().substr(17,8)},startEdit:function(){this.editMode=!0},stopEdit:function(){this.editMode=!1},saveRecord:function(){if(this.timeError){this.stopEdit();var t=this.currentRecord.start.toString().substr(0,17)+this.startTime;t+=this.currentRecord.start.toString().substr(25),this.currentRecord.start=t;var e=this.currentRecord.end.toString().substr(0,17)+this.endTime;e+=this.currentRecord.end.toString().substr(25),this.currentRecord.end=e,delete this.currentRecord.title,this.$emit("save",this.currentRecord)}}},computed:{timeError:function(){return this.checkTimeError?this.startTime<this.endTime:null}}}),nt=ot,it=Object(m["a"])(nt,rt,st,!1,null,"2e1551d8",null),lt=it.exports,ct={components:{EditRecordModal:lt,FullCalendar:G["a"],TaskList:et},data:function(){return{calendarPlugins:[J["a"],V["d"],at["b"]],rawRecords:[],newRecord:Object.assign({},this.record),noTSR:!1,loading:!0,currentPerson:null,url:this.apiUrlBase+"/timesheet_records",status:{code:0},error:"",rawTasks:[],confirmDetails:{recordID:null,title:"",start:"",end:"",siteLocation:"",comment:"",task:""},confirmRecord:{recordID:null,title:"",start:"",end:""},popoverShow:!0,userID:this.$store.getters.tokenPerson}},methods:{getRecords:function(){var t=this;this.axios({method:"GET",url:this.apiUrlBase+"/timesheet_records?person.personID="+this.userID,headers:{Accept:"application/ld+json"}}).then((function(e){t.rawRecords=e.data["hydra:member"],Array.isArray(t.rawRecords)&&t.rawRecords.length<=0&&(t.noTSR=!0),t.loading=!1})).catch((function(e){t.error=e.message}))},postRecord:function(t){var e=this;this.newRecord.start=t.start.toUTCString(),this.newRecord.end=t.end.toUTCString(),this.newRecord.siteLocation="on-site",this.newRecord.task=t.extendedProps.task,this.newRecord.person="/api/people/"+this.userID,this.axios({url:this.url,method:"POST",headers:{Accept:"application/ld+json"},data:this.newRecord}).then((function(a){e.getRecords(e.userID),t.remove()})).catch((function(t){e.error=t.message})).finally((function(){e.status.code=0}))},putRecord:function(){var t=this;this.axios({url:this.url+"/"+this.newRecord.recordID,method:"PUT",headers:{Accept:"application/ld+json"},data:this.newRecord}).then().catch((function(e){t.error=e.message})).finally((function(){t.status.code=0}))},editRecordDetails:function(t){this.newRecord.start=t.start,this.newRecord.end=t.end,this.newRecord.recordID=t.recordID,this.newRecord.task="/api/tasks/"+t.task,this.newRecord.siteLocation=t.siteLocation,this.newRecord.comment=t.comment,this.newRecord.person="/api/people/"+this.userID,this.putRecord(),this.updateRecord(this.newRecord.recordID),this.$bvModal.hide("modal-details")},editRecord:function(t){this.newRecord.start=t.start.toUTCString(),this.newRecord.end=t.end.toUTCString(),this.newRecord.recordID=t.id,this.newRecord.task="/api/tasks/"+t.extendedProps.task,this.newRecord.siteLocation=t.extendedProps.siteLocation,this.newRecord.comment=t.extendedProps.comment,this.newRecord.person="/api/people/"+this.userID,this.putRecord()},preventMultDays:function(t){var e=this;this.status.code=-1,t.event.start.getDate()-t.event.end.getDate()?(t.revert(),this.status.code=0):t.event.id?(clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){return e.editRecord(t.event)}),1e3)):this.postRecord(t.event)},getTasks:function(){var t=this;this.loading=!0,this.axios({method:"GET",url:this.apiUrlBase+"/tasks",header:{Accept:"application/ld+json"}}).then((function(e){t.rawTasks=e.data["hydra:member"],t.loading=!1})).catch((function(t){}))},compare:function(t,e){return t.title.toLowerCase().localeCompare(e.title.toLowerCase())},eventRender:function(t){var e=this;t.el.onclick=function(){e.onDetailsShown(t)}},onDetailsShown:function(t){this.$bvModal.show("modal-details");var e=this.computedRecords.find((function(e){return e.id===parseInt(t.event.id)}));this.confirmDetails={recordID:t.event.id,title:t.event.title,start:t.event.start.toUTCString(),task:t.event.extendedProps.task,end:t.event.end.toUTCString(),siteLocation:e.siteLocation,comment:e.comment}},removeRecord:function(t){var e=this.rawRecords.findIndex((function(e){return e.recordID===parseInt(t)}));this.rawRecords.splice(e,1)},updateRecord:function(t){var e=this;this.removeRecord(t),this.axios({method:"GET",url:this.apiUrlBase+"/timesheet_records/"+t,headers:{Accept:"application/json"}}).then((function(t){e.rawRecords.push(t.data)}))}},computed:Object(r["a"])({},l["a"],{computedRecords:function(){var t=[];return this.rawRecords&&this.rawRecords.forEach((function(e){var a=e["recordID"],r=e["task"]["title"],s=e["start"],o=e["end"],n=e["siteLocation"],i=e["comment"],l={siteLocation:e["siteLocation"],comment:e["comment"],task:e["task"]["taskID"]},c={id:a,title:r,start:s,end:o,siteLocation:n,comment:i,extendedProps:l};t.push(c)})),t},taskList:function(){return this.rawTasks.slice(0).sort(this.compare)},isBusy:function(){return 0!==this.status.code}}),mounted:function(){this.getRecords(),this.getTasks();var t=document.getElementById("taskList");new at["a"](t,{itemSelector:".list-group-item",eventData:function(t){return{title:t.innerText,duration:"00:30",extendedProps:{task:"/api/tasks/"+t.getAttribute("data-id")}}}})}},dt=ct,ut=(a("0e4c"),Object(m["a"])(dt,W,Y,!1,null,null,null)),mt=ut.exports,ht={name:"home",components:{Calendar:mt},computed:{vueRoot:function(){return this.$root}}},pt=ht,ft=(a("704c"),Object(m["a"])(pt,F,B,!1,null,"8a605704",null)),bt=ft.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"administration"},[a("create-category-modal",{attrs:{catType:t.categoryType,id:"createCategoryModal"}}),a("EditTaskModal"),a("CreatePersonModal"),a("h1",[t._v("Administration")]),a("b-container",[a("b-row",{attrs:{"align-h":"around"}},[a("b-col",{staticClass:"pr-3"},[a("b-row",[a("b-col",{staticClass:"alert-warning border border-warning mb-4"},[a("b-row",{staticClass:"p-2",attrs:{"align-h":"center"}},[a("h5",[t._v("Task Management")])]),a("b-row",{staticClass:"py-2 px-5",attrs:{"align-h":"center"}},[a("b-button",{staticClass:"btn-block",attrs:{id:"btn_create_task_cat",variant:"warning"},on:{click:t.createTaskCat}},[t._v("Create Work Assignment")])],1),a("b-row",{staticClass:"py-2 px-5",attrs:{"align-h":"center"}},[a("b-button",{staticClass:"btn-block",attrs:{id:"btn_new_task_modal",variant:"warning"},on:{click:function(e){return t.$root.$emit("bv::show::modal","modal-edit-task",e.target)}}},[t._v("Create Task")])],1)],1)],1),a("b-row",[a("b-col",{staticClass:"alert-primary border border-primary"},[a("b-row",{staticClass:"p-2",attrs:{"align-h":"center"}},[a("h5",[t._v("Member Management")])]),a("b-row",{staticClass:"py-2 px-5",attrs:{"align-h":"center"}},[a("b-button",{staticClass:"btn-block",attrs:{id:"btn_create_person_cat",variant:"primary"},on:{click:t.createPersonCat}},[t._v("Create Member Grouping")])],1),a("b-row",{staticClass:"p-2 px-5",attrs:{"align-h":"center"}},[a("b-button",{staticClass:"btn-block",attrs:{id:"btn_create_person",variant:"primary"},on:{click:t.createMember}},[t._v("Create Member")])],1)],1)],1)],1),a("b-col",{attrs:{cols:"9"}},[a("PersonList")],1)],1)],1)],1)},vt=[],kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"modal-create-category","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},on:{shown:t.resetModal},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(t._s(t.categoryTitle))]},proxy:!0},{key:"modal-footer",fn:function(e){var r=e.cancel;return[t.showModalError&&!t.isLoading?a("p",{staticClass:"text-danger text-nowrap m-0",attrs:{id:"error_createCategory"}},[t._v("Oops! Please review your inputs.")]):t._e(),t.isLoading?t._e():a("b-button",{staticClass:"button ml-3",attrs:{id:"btn_cancel",variant:"secondary"},on:{click:function(t){return r()}}},[t._v("Cancel")]),t.isLoading?t._e():a("b-button",{staticClass:"button text-sm-center",attrs:{id:"btn_createCategory",variant:"primary",disabled:t.isLoading},on:{click:t.createCategory}},[t._v("Create Category")])]}}])},[a("div",{staticClass:"text-center"},[t.isLoading?a("b-spinner",{staticStyle:{width:"5em",height:"5em"},attrs:{variant:"primary",id:"load_spinner"}}):t._e()],1),t.isLoading?t._e():a("b-form-group",[a("b-form-group",{attrs:{id:"lbl_name",label:"Name:"}},[a("b-form-input",{attrs:{maxlength:"100",id:"input_name",state:t.nameError},on:{change:function(e){t.showNameError=!0,t.showModalError=!1}},model:{value:t.$v.newCategory.categoryName.$model,callback:function(e){t.$set(t.$v.newCategory.categoryName,"$model","string"===typeof e?e.trim():e)},expression:"$v.newCategory.categoryName.$model"}}),!t.showNameError||t.$v.newCategory.categoryName.minLength&&t.$v.newCategory.categoryName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_name_minLength"}},[t._v(" Name must be between 2 and 100 characters ")]),t.$v.newCategory.categoryName.nameSpecialChar?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_name_specialChar"}},[t._v(" Name may only contain alphanumeric or punctuation characters. ")])],1),a("b-form-group",{attrs:{id:"lbl_desc",label:"Description"}},[a("b-form-input",{attrs:{maxlength:"255",state:t.descriptionError,id:"input_description"},on:{change:function(e){t.showDescError=!0,t.showModalError=!1}},model:{value:t.$v.newCategory.categoryDescription.$model,callback:function(e){t.$set(t.$v.newCategory.categoryDescription,"$model",e)},expression:"$v.newCategory.categoryDescription.$model"}}),t.$v.newCategory.categoryDescription.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_description"}},[t._v(" Description character limit is 255 characters ")])],1),a("b-form-group",{attrs:{id:"select_Parent",label:"Parent Category:"}},[a("b-form-select",{attrs:{id:"parentCategory_id",options:t.sortedCategories},on:{change:function(e){t.showModalError=!1}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null}},[t._v("--No Parent Category--")])]},proxy:!0}],null,!1,2251827475),model:{value:t.newCategory.parentCategory,callback:function(e){t.$set(t.newCategory,"parentCategory",e)},expression:"newCategory.parentCategory"}})],1)],1)],1),a("b-modal",{attrs:{id:"modal-confirm-category",title:"Category Created","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"",size:"md"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.ok;return[a("b-button",{attrs:{id:"btn_ok"},on:{click:function(t){return r()}}},[t._v("OK")])]}}])},[a("div",[a("p",{attrs:{id:"confirm_message"}},[t._v(t._s(t.confirmationMessage))]),a("p",{attrs:{id:"confirm_name"}},[t._v("Name: "+t._s(t.newCategory.categoryName))]),a("p",{attrs:{id:"confirm_description"}},[t._v("Description: "+t._s(t.newCategory.categoryDescription))]),a("p",{attrs:{id:"confirm_parent"}},[t._v("Parent Category: "+t._s(t.parentCategoryMessage))])])]),a("b-modal",{attrs:{id:"no-connection-modal",title:"Error","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"","ok-only":"",size:"sm"}},[a("p",[a("b",{attrs:{id:"error_connection"}},[t._v("Connection Error")])])])],1)},_t=[],wt=a("b5ae"),yt=wt["helpers"].regex("titleSpecialChar",/^[A-Za-z0-9 ]*$/),Ct={props:{catType:{Type:Object,default:function(){return{val:0}}}},data:function(){return{isLoading:!1,categories:[],showNameError:!1,showDescError:!1,newCategory:{categoryName:"",categoryDescription:"",parentCategory:"",categoryType:null},showModalError:!1,parentCategoryMessage:"",getFilter:null,categoryTitle:"Create Category",confirmationMessage:""}},methods:{postCategory:function(){var t=this;this.isLoading=!0,this.axios({method:"POST",url:this.apiUrlBase+"/categories",headers:{"Content-Type":"application/ld+json"},data:this.newCategory}).then((function(e){t.confirmationMessage=1===t.newCategory.categoryType?"A new Member Grouping has been created!":"A new Work Assignment has been created!",t.$bvModal.show("modal-confirm-category"),t.$bvModal.hide("modal-create-category"),t.isLoading=!1})).catch((function(e){t.isLoading=!1}))},getCategories:function(){var t=this;this.isLoading=!0,this.axios({method:"GET",url:this.apiUrlBase+"/categories?categoryType="+this.getFilter,header:{Accept:"application/ld+json"}}).then((function(e){for(var a=e.data["hydra:member"],r=0;r<a.length;r++)t.categories.push({value:"/api/categories/"+a[r]["categoryID"],text:a[r]["categoryName"]});t.isLoading=!1})).catch((function(e){t.$bvModal.hide("modal-create-category"),t.$bvModal.show("no-connection-modal"),t.isLoading=!1}))},createCategory:function(){if(!1===this.nameError||!1===this.descriptionError)this.showNameError=!0,this.showDescError=!0,this.showModalError=!0;else{if(this.showModalError=!1,null===this.newCategory.parentCategory)this.parentCategoryMessage="No Parent Category";else{var t=document.getElementById("parentCategory_id").selectedIndex-1;this.parentCategoryMessage=this.sortedCategories[t].text}this.postCategory()}},resetModal:function(){this.showNameError=!1,this.showDescError=!1,this.showModalError=!1,this.categories=[],this.getCategories(),this.newCategory={categoryName:"",categoryDescription:"",parentCategory:null,categoryType:this.catType.val}}},computed:{sortedCategories:function(){function t(t,e){return t.text.toLowerCase().localeCompare(e.text.toLowerCase())}return this.categories.slice(0).sort(t)},nameError:function(){return this.showNameError?!!(this.$v.newCategory.categoryName.minLength&&this.$v.newCategory.categoryName.maxLength&&this.$v.newCategory.categoryName.nameSpecialChar&&this.$v.newCategory.categoryName.required):null},descriptionError:function(){return this.showDescError?this.$v.newCategory.categoryDescription.maxLength:null}},validations:{newCategory:{categoryName:{minLength:Object(wt["minLength"])(2),maxLength:Object(wt["maxLength"])(100),nameSpecialChar:yt,required:wt["required"]},categoryDescription:{maxLength:Object(wt["maxLength"])(255)}}},watch:{catType:{deep:!0,handler:function(t){2===t.val?(this.categoryTitle="Create Work Assignment",this.newCategory.categoryType=2,this.getFilter=2):1===t.val&&(this.categoryTitle="Create Member Grouping",this.newCategory.categoryType=1,this.getFilter=1)}}}},Et=Ct,Dt=(a("a7a0"),Object(m["a"])(Et,kt,_t,!1,null,"39282ea8",null)),xt=Dt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"modal-edit-task",title:"Create Task","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},on:{shown:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[t.showModalError&&!t.isLoading?a("p",{staticClass:"text-danger",attrs:{id:"error_createEditTask"}},[t._v(" Oops! Please review your inputs.")]):t._e(),t.isLoading?t._e():a("b-button",{staticClass:"button",attrs:{id:"btn_cancel",variant:"secondary"},on:{click:function(t){return r()}}},[t._v("Cancel")]),t.isLoading?t._e():a("b-button",{staticClass:"button",attrs:{id:"btn_createTask",variant:"primary"},on:{click:t.createTask}},[t._v("Create Task")])]}}])},[a("div",{staticClass:"text-center"},[t.isLoading?a("b-spinner",{staticStyle:{width:"5em",height:"5em"},attrs:{variant:"primary",id:"load_spinner"}}):t._e()],1),t.isLoading?t._e():a("b-form-group",[a("b-form-group",{attrs:{id:"lbl_title",label:"Title:"}},[a("b-form-input",{attrs:{maxlength:"255",id:"input_title",state:t.showTitleError?t.$v.newTask.title.minLength&&t.$v.newTask.title.required&&t.$v.newTask.title.titleSpecialChar:null},on:{change:function(e){t.showTitleError=!0,t.showModalError=!1}},model:{value:t.$v.newTask.title.$model,callback:function(e){t.$set(t.$v.newTask.title,"$model","string"===typeof e?e.trim():e)},expression:"$v.newTask.title.$model"}}),!t.showTitleError||t.$v.newTask.title.minLength&&t.$v.newTask.title.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_title_minLength"}},[t._v("Title must be between 1 and 255 characters long.")]),t.$v.newTask.title.titleSpecialChar?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_title_specialChar"}},[t._v("Title can only contain alphanumeric or punctuation characters.")])],1),a("b-form-group",{attrs:{id:"lbl_estimate",label:"Hours Estimate:"}},[a("b-form-input",{attrs:{min:"0",max:"1000000",step:"0.1",state:t.showEstimateError?t.$v.newTask.hoursEstimate.between&&t.$v.newTask.hoursEstimate.required:null,id:"input_estimate"},on:{change:function(e){t.showEstimateError=!0,t.showModalError=!1}},model:{value:t.$v.newTask.hoursEstimate.$model,callback:function(e){t.$set(t.$v.newTask.hoursEstimate,"$model",e)},expression:"$v.newTask.hoursEstimate.$model"}}),t.$v.newTask.hoursEstimate.between&&t.$v.newTask.hoursEstimate.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_estimate"}},[t._v("Hours Estimate must be a number between 1 and 1000000.")])],1),a("b-form-group",{attrs:{id:"lbl_category",label:"Category:"}},[a("b-form-select",{attrs:{id:"input_category",options:t.sortedCategories,state:t.showCategoryError?t.$v.newTask.category.required:null},on:{change:function(e){t.showCategoryError=!0,t.showModalError=!1}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("--Please select a Category--")])]},proxy:!0}],null,!1,2438813967),model:{value:t.$v.newTask.category.$model,callback:function(e){t.$set(t.$v.newTask.category,"$model",e)},expression:"$v.newTask.category.$model"}}),t.showCategoryError&&!t.$v.newTask.category.required?a("b-form-invalid-feedback",{attrs:{id:"error_category"}},[t._v("Please select a Category from the list.")]):t._e()],1)],1)],1),a("b-modal",{attrs:{id:"modal-confirm-task",title:"Task Created","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"",size:"sm"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.ok;return[a("b-button",{attrs:{id:"btn_ok"},on:{click:function(t){return r()}}},[t._v("Ok")])]}}])},[t._v("Task "+t._s(t.newTask.title)+" has been created! ")])],1)},$t=[],jt=wt["helpers"].regex("titleSpecialChar",/^[A-Za-z0-9 ()\-_.,!:'/$]*$/),St={name:"EditTaskModal",data:function(){return{newTask:{title:"",hoursEstimate:0,category:null},isLoading:!1,categories:[],showTitleError:!1,showEstimateError:!1,showCategoryError:!1,showModalError:!1}},methods:{getCategories:function(){var t=this;this.isLoading=!0,this.axios({method:"GET",url:this.apiUrlBase+"/categories?categoryType=2",header:{Accept:"application/ld+json"}}).then((function(e){for(var a=e.data["hydra:member"],r=0;r<a.length;r++)t.categories.push({value:"/api/categories/"+a[r]["categoryID"],text:a[r]["categoryName"]});t.isLoading=!1}))},createTask:function(){this.$v.newTask.category.required&&this.$v.newTask.title.minLength&&this.$v.newTask.title.required&&this.$v.newTask.title.titleSpecialChar&&this.$v.newTask.hoursEstimate.between?(this.showModalError=!1,this.postTask()):(this.showTitleError=!0,this.showEstimateError=!0,this.showCategoryError=!0,this.showModalError=!0)},postTask:function(){var t=this;this.isLoading=!0,this.newTask.hoursEstimate=parseFloat(this.newTask.hoursEstimate),this.axios({method:"POST",url:this.apiUrlBase+"/tasks",headers:{"Content-Type":"application/ld+json"},data:this.newTask}).then((function(e){t.$bvModal.show("modal-confirm-task"),t.$bvModal.hide("modal-edit-task"),t.isLoading=!1,t.$emit("update-task-list",t.newTask)}))},resetModal:function(){this.showTitleError=!1,this.showEstimateError=!1,this.showCategoryError=!1,this.showModalError=!1,this.categories=[],this.getCategories(),this.newTask={title:"",hoursEstimate:0,category:null}}},computed:{sortedCategories:function(){function t(t,e){return t.text.toLowerCase().localeCompare(e.text.toLowerCase())}return this.categories.slice(0).sort(t)}},mounted:function(){},validations:{newTask:{title:{minLength:Object(wt["minLength"])(1),maxLength:Object(wt["maxLength"])(255),titleSpecialChar:jt,required:wt["required"]},hoursEstimate:{between:Object(wt["between"])(0,1e6),required:wt["required"]},category:{required:wt["required"]}}}},Lt=St,Rt=(a("80e7"),Object(m["a"])(Lt,Tt,$t,!1,null,"1ad6248a",null)),Pt=Rt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"CreatePersonModal"}},[a("b-modal",{attrs:{id:"modal-create-member",title:"Create Member","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":""},on:{show:t.setupModal,hidden:t.resetModal},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.cancel;return[t.showModalError&&!t.isLoading?a("p",{staticClass:"text-danger",attrs:{id:"error_createMember"}},[t._v(" Oops! Please review your inputs.")]):t._e(),t.isLoading?t._e():a("b-button",{staticClass:"text-sm-center",attrs:{id:"btn_cancel",variant:"secondary"},on:{click:function(t){return r()}}},[t._v("Cancel")]),t.isLoading?t._e():a("b-button",{staticClass:"text-sm-center",attrs:{id:"btn_create",variant:"primary"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.createPerson()}}},[t._v("Create Member")])]}}])},[a("div",{staticClass:"text-center"},[t.isLoading?a("b-spinner",{staticStyle:{width:"5em",height:"5em"},attrs:{variant:"primary",id:"load_spinner"}}):t._e()],1),t.isLoading?t._e():a("b-form-group",[a("div",{attrs:{id:"firstAndLastName"}},[a("b-form-group",{attrs:{id:"lbl_firstName",label:"First Name:"}},[a("b-form-input",{attrs:{id:"input_firstName",size:"sm",state:!0===t.stateField.fName?t.validateState("firstName"):null,maxLength:"100"},on:{change:function(e){t.stateField.fName=!0,t.showModalError=!1}},model:{value:t.$v.newPerson.firstName.$model,callback:function(e){t.$set(t.$v.newPerson.firstName,"$model","string"===typeof e?e.trim():e)},expression:"$v.newPerson.firstName.$model"}}),t.$v.newPerson.firstName.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_firstName_maxLength"}},[t._v("First Name cannot be greater than 100 characters.")]),t.$v.newPerson.firstName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_firstName_required"}},[t._v("First Name is required.")]),t.$v.newPerson.firstName.nameValidation?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_firstName_specialChar"}},[t._v("First Name cannot contain special characters.")])],1),a("b-form-group",{attrs:{id:"lbl_lastName",label:"Last Name:"}},[a("b-form-input",{attrs:{id:"input_lastName",size:"sm",state:!0===t.stateField.lName?t.validateState("lastName"):null,maxLength:"100"},on:{change:function(e){t.stateField.lName=!0,t.showModalError=!1}},model:{value:t.$v.newPerson.lastName.$model,callback:function(e){t.$set(t.$v.newPerson.lastName,"$model","string"===typeof e?e.trim():e)},expression:"$v.newPerson.lastName.$model"}}),t.$v.newPerson.lastName.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_lastName_maxLength"}},[t._v("Last Name cannot be greater than 100 characters.")]),t.$v.newPerson.lastName.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_lastName_required"}},[t._v("Last Name is required.")]),t.$v.newPerson.lastName.nameValidation?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_lastName_specialChar"}},[t._v("Last Name cannot contain special characters.")])],1)],1),a("b-form-group",{attrs:{id:"lbl_email",label:"Email:"}},[a("b-form-input",{attrs:{id:"input_email",maxLength:"255",size:"sm",state:!0===t.stateField.email?t.validateState("email"):null,type:"email"},on:{change:function(e){t.stateField.email=!0,t.showModalError=!1}},nativeOn:{blur:function(e){return t.checkEmail()}},model:{value:t.$v.newPerson.email.$model,callback:function(e){t.$set(t.$v.newPerson.email,"$model",e)},expression:"$v.newPerson.email.$model"}}),t.$v.newPerson.email.maxLength?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_email_maxLength"}},[t._v("Email cannot be greater than 255 characters.")]),t.$v.newPerson.email.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_email_required"}},[t._v("Email is required.")]),t.$v.newPerson.email.email?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_email_format"}},[t._v("Email address is not valid.")]),t.pendingEmailCheck?a("span",[a("b-spinner",{attrs:{small:"",variant:"primary",id:"email_spinner"}}),t._v(" Checking if email is available...")],1):t._e(),t.$v.newPerson.email.validateUniqueEmail||t.pendingEmailCheck?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_email_unique"}},[t._v("Email address is unavailable.")])],1),a("b-form-group",{attrs:{id:"lbl_password",label:"Password:"}},[a("b-form-input",{attrs:{id:"input_password",state:!0===t.stateField.password?t.validateState("password"):null,size:"sm",type:"password"},on:{change:function(e){t.stateField.password=!0,t.showModalError=!1}},model:{value:t.$v.newPerson.password.$model,callback:function(e){t.$set(t.$v.newPerson.password,"$model",e)},expression:"$v.newPerson.password.$model"}}),t.$v.newPerson.password.passwordValidation?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_password_format"}},[t._v("Password must be have the following:"),a("br"),t._v("  Include both lower upper and lower characters"),a("br"),t._v("  Include at least one number and special character"),a("br"),t._v("  Be at least 8 characters long ")]),t.$v.newPerson.password.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_password_required"}},[t._v("Password is required.")])],1),a("div",{attrs:{id:"departmentAndStatus"}},[a("b-form-group",{attrs:{id:"lbl_department",label:"Department:"}},[a("b-form-select",{attrs:{state:!0===t.stateField.category?t.validateState("category"):null,size:"sm",options:t.departmentOptions,id:"input_department"},on:{change:function(e){t.stateField.category=!0,t.showModalError=!1}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("--Select a Department--")])]},proxy:!0}],null,!1,1512785301),model:{value:t.$v.newPerson.category.$model,callback:function(e){t.$set(t.$v.newPerson.category,"$model",e)},expression:"$v.newPerson.category.$model"}}),t.$v.newPerson.category.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_department_required"}},[t._v("Department is required.")])],1),a("b-form-group",{attrs:{id:"lbl_status",label:"Employment Status:"}},[a("b-form-select",{attrs:{state:!0===t.stateField.employmentStatus?t.validateState("employmentStatus"):null,size:"sm",options:t.statusOptions,id:"input_employmentStatus"},on:{change:function(e){t.stateField.employmentStatus=!0,t.showModalError=!1}},scopedSlots:t._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("--Select a Status--")])]},proxy:!0}],null,!1,3340672709),model:{value:t.$v.newPerson.employmentStatus.$model,callback:function(e){t.$set(t.$v.newPerson.employmentStatus,"$model",e)},expression:"$v.newPerson.employmentStatus.$model"}}),t.$v.newPerson.employmentStatus.required?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_employmentStatus_required"}},[t._v("Employment Status is required.")])],1)],1),a("b-form-group",{attrs:{id:"lbl_hours",label:"Scheduled Hours:"}},[a("b-form-input",{attrs:{id:"input_hours",state:!0===t.stateField.scheduledHours?t.validateState("scheduledHours"):null,min:"0",max:"37.5",step:"0.5",type:"number",size:"sm"},on:{change:function(e){t.stateField.scheduledHours=!0,t.showModalError=!1}},model:{value:t.$v.newPerson.scheduledHours.$model,callback:function(e){t.$set(t.$v.newPerson.scheduledHours,"$model","string"===typeof e?e.trim():e)},expression:"$v.newPerson.scheduledHours.$model"}}),t.$v.newPerson.scheduledHours.between&&t.$v.newPerson.scheduledHours.decimal?t._e():a("b-form-invalid-feedback",{attrs:{id:"error_hours_Length"}},[t._v("Scheduled Hours be between 0 than 37.5.")])],1)],1)],1),a("b-modal",{attrs:{id:"modal-confirm-member",title:"Member Created","no-close-on-backdrop":"","no-close-on-esc":"","hide-header-close":"",size:"sm"},scopedSlots:t._u([{key:"modal-footer",fn:function(e){var r=e.ok;return[a("b-button",{attrs:{id:"btn_ok"},on:{click:function(t){return r()}}},[t._v("Ok")])]}}])},[a("p",{attrs:{id:"confirmMsg"}},[t._v(t._s(this.confirmationMessage))])])],1)},Nt=[],Ot=(a("96cf"),a("1da1")),At=wt["helpers"].regex("passwordValidation",/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[#\\~';$^+=!*<>()@%&]).{8,}$/),qt=wt["helpers"].regex("passwordValidation",/^('?-?[a-zA-z]{1,}'?-? ?){1,3}$/),It={name:"CreatePersonModal",data:function(){return{showModalError:!1,isLoading:!1,pendingEmailCheck:!1,isEmailUnique:!1,newPerson:{firstName:"",lastName:"",email:"",password:"",category:null,employmentStatus:null,scheduledHours:0},currentStatus:[],statusOptions:[{value:"full time",text:"Full Time"},{value:"part time",text:"Part Time"},{value:"casual",text:"Casual"},{value:"on leave",text:"On Leave"}],departmentOptions:[],stateField:{fName:!1,lName:!1,email:!1,password:!1,category:!1,employmentStatus:!1,scheduledHours:!1},confirmationMessage:""}},methods:{validateState:function(t){var e=this.$v.newPerson[t],a=e.$dirty,r=e.$error;return a?!r:null},getDepartments:function(){var t=this;this.axios({method:"GET",url:this.apiUrlBase+"/categories?categoryType=1&parentCategory.categoryName=Department&order%5BcategoryName%5D=asc",header:{Accept:"application/ld-json"}}).then((function(e){for(var a=e.data["hydra:member"],r=0;r<a.length;r++)t.departmentOptions.push({value:"/api/categories/"+a[r]["categoryID"],text:a[r]["categoryName"]})})).catch((function(){})).finally((function(){t.isLoading=!1}))},createPerson:function(){this.stateField={fName:!0,lName:!0,email:!0,password:!0,category:!0,employmentStatus:!0,scheduledHours:!0},this.$v.newPerson.$touch(),this.$v.newPerson.$anyError?this.showModalError=!0:this.postPerson()},postPerson:function(){var t=this;this.isLoading=!0,this.newPerson.scheduledHours=parseFloat(this.newPerson.scheduledHours),this.axios({method:"POST",url:this.apiUrlBase+"/people",headers:{"Content-Type":"application/ld+json"},data:this.newPerson}).then((function(){t.confirmationMessage="Member "+t.newPerson.firstName+" "+t.newPerson.lastName+" has been created!",t.$root.$emit("bv::refresh::table","person-table"),t.$bvModal.show("modal-confirm-member"),t.$bvModal.hide("modal-create-member"),t.isLoading=!1}))},setupModal:function(){this.isLoading=!0,this.getDepartments()},resetModal:function(){var t=this;this.stateField={fName:!1,lName:!1,email:!1,password:!1,category:!1,employmentStatus:!1,scheduledHours:!1},this.showModalError=!1,this.$nextTick((function(){t.$v.$reset()})),this.newPerson={firstName:"",lastName:"",email:"",password:"",category:null,employmentStatus:null,scheduledHours:0},this.departmentOptions=[]},checkEmail:function(){var t=this;return Object(Ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$v.newPerson.email.email||!t.$v.newPerson.email.required){e.next=6;break}return t.pendingEmailCheck=!0,e.next=4,t.axios({method:"GET",url:t.apiUrlBase+"/people?email="+t.$v.newPerson.email.$model.toLowerCase(),header:{Accept:"application/ld-json"}}).then((function(e){t.pendingEmailCheck=!1,t.isEmailUnique=0===e.data["hydra:member"].length}));case 4:e.next=7;break;case 6:t.isEmailUnique=!0;case 7:case"end":return e.stop()}}),e)})))()}},validations:{newPerson:{firstName:{required:wt["required"],maxLength:Object(wt["maxLength"])(100),nameValidation:qt},lastName:{required:wt["required"],maxLength:Object(wt["maxLength"])(100),nameValidation:qt},email:{required:wt["required"],maxLength:Object(wt["maxLength"])(255),email:wt["email"],validateUniqueEmail:function(t){return""===t||this.isEmailUnique}},password:{required:wt["required"],passwordValidation:At},category:{required:wt["required"]},employmentStatus:{required:wt["required"]},scheduledHours:{between:Object(wt["between"])(0,37.5),decimal:wt["decimal"]}}}},zt=It,Ht=(a("4c44"),Object(m["a"])(zt,Mt,Nt,!1,null,"3c0685c8",null)),Ut=Ht.exports,Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"personList"}},[a("b-table",{ref:"table",attrs:{id:"person-table","show-empty":!0,busy:t.isLoading,size:"sm","empty-text":"No members to display",fixed:"",striped:"","outlined:true":"",headVariant:"dark","foot-variant:dark":"",fields:t.fields,"no-provider-sorting":"","no-provider-paging":"","sort-by":"lastName","per-page":t.perPage,"current-page":t.currentPage,items:t.peopleList},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center"},[a("b-spinner",{staticStyle:{width:"5em",height:"5em"},attrs:{variant:"primary",id:"load_spinner"}})],1)]},proxy:!0},{key:"head(lastName)",fn:function(e){return[a("span",{staticClass:"ml-3"},[t._v(t._s(e.label))])]}},{key:"cell(lastName)",fn:function(e){return[a("span",{staticClass:"ml-3"},[t._v(t._s(e.item.lastName.substr(0,11))+", "+t._s(e.item.firstName.substr(0,11)))])]}}])}),a("b-pagination",{attrs:{align:"center","aria-controls":"person-table","per-page":t.perPage,"total-rows":t.totalRows},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},Bt=[],Wt={name:"PersonList",data:function(){var t=this;return{isLoading:!1,peopleList:this.getPeople,departmentList:[],totalRows:0,fields:[{key:"lastName",label:"Full Name",sortable:!0},{key:"email",label:"Email"},{key:"category",label:"Department",formatter:function(e){return t.departmentList.find((function(t){return t.iri===e["@id"]})).name}}],currentPage:1,perPage:10}},methods:{getPeople:function(){var t=this;return Object(Ot["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isLoading=!0,e.abrupt("return",t.axios({method:"GET",url:t.apiUrlBase+"/people",header:{Accept:"application/ld+json"}}).then((function(e){return t.getDepartment(),t.totalRows=e.data["hydra:member"].length,e.data["hydra:member"]||[]})).finally((function(){t.isLoading=!1})));case 2:case"end":return e.stop()}}),e)})))()},getDepartment:function(){var t=this;this.axios.get(this.apiUrlBase+"/categories?categoryType=1&parentCategory.categoryName=Department").then((function(e){e.data["hydra:member"].forEach((function(e){t.departmentList.push({iri:e["@id"],name:e["categoryName"]})}))}))}},mounted:function(){this.getDepartment()}},Yt=Wt,Gt=(a("5804"),Object(m["a"])(Yt,Ft,Bt,!1,null,"d3794966",null)),Jt=Gt.exports,Vt={name:"Administration",components:{CreateCategoryModal:xt,EditTaskModal:Pt,CreatePersonModal:Ut,PersonList:Jt},data:function(){return{categoryType:{val:null}}},methods:{createTaskCat:function(){this.categoryType={val:2},this.$bvModal.show("modal-create-category")},createPersonCat:function(){this.categoryType={val:1},this.$bvModal.show("modal-create-category")},createMember:function(){this.$bvModal.show("modal-create-member")}}},Zt=Vt,Kt=(a("3359"),Object(m["a"])(Zt,gt,vt,!1,null,"56e4f842",null)),Qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"login"}},[r("img",{attrs:{id:"logoBanner",src:a("7e9f")}}),r("login-card",{attrs:{id:"loginCard"}})],1)},te=[],ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",{staticClass:"mx-auto",staticStyle:{"max-width":"20rem"},attrs:{"bg-variant":"light"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("b-form-group",{attrs:{id:"username",label:"Username:","label-for":"uname"}},[a("b-form-input",{attrs:{id:"uname",required:"",type:"email",disabled:t.loading},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("b-form-group",{attrs:{id:"password",label:"Password:","label-for":"pwd"}},[a("b-form-input",{attrs:{id:"pwd",required:"",type:"password",disabled:t.loading},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("b-button",{attrs:{variant:"success",type:"submit",disabled:t.loading}},[t._v("Log In "),t.loading?a("font-awesome-icon",{attrs:{icon:"cog",spin:""}}):t._e()],1),t.showLoginError?a("div",{staticClass:"error alert-danger"},[t._v(" Invalid Username or Password ")]):t._e()],1)],1)},ae=[],re={name:"LoginCard",data:function(){return{username:"",password:"",showLoginError:!1,loading:!1}},methods:{login:function(){var t=this;this.loading=!0,this.$store.dispatch("login",{email:this.username.toLowerCase(),password:this.password}).then((function(){t.$router.push({name:"calendar"}),t.loading=!1})).catch((function(e){t.showLoginError=!0,t.loading=!1}))}},state:{}},se=re,oe=Object(m["a"])(se,ee,ae,!1,null,"bf59a03a",null),ne=oe.exports,ie={name:"Login",components:{loginCard:ne}},le=ie,ce=Object(m["a"])(le,Xt,te,!1,null,"7cef9b48",null),de=ce.exports;s["default"].use(f["a"]),s["default"].use(c["a"]);var ue=[{path:"/",name:"index",meta:{requiresAuth:!0}},{path:"/calendar",name:"calendar",component:bt,meta:{requiresAuth:!0}},{path:"/reports",name:"reports",component:U,meta:{requiresAuth:!0}},{path:"/administration",name:"administration",component:Qt,meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/about",name:"about",meta:{requiresAuth:!0},component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/login",name:"login",component:de,meta:{alreadyAuth:!0}}],me=new f["a"]({mode:"history",base:"/",routes:ue});me.beforeEach((function(t,e,a){var r=localStorage.getItem("user");"index"===t.name&&a("/calendar");var s=r?JSON.parse(atob(r.split(".")[1])).roles[0]:"";t.matched.some((function(t){return t.meta.requiresAuth}))?r?t.matched.some((function(t){return t.meta.requiresAdmin}))&&"ROLE_ADMIN"!==s?a("/calendar"):a():a("/login"):t.matched.some((function(t){return t.meta.alreadyAuth}))&&r?a("/calendar"):a()}));var he=me,pe=a("bc3a"),fe=a.n(pe),be=a("a7fe"),ge=a.n(be),ve=a("1dce"),ke=a.n(ve);a("466d");s["default"].use(c["a"]);var _e=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/,we=new c["a"].Store({state:{userToken:null},mutations:{SET_USER_DATA:function(t,e){t.userToken=e,localStorage.setItem("user",JSON.stringify(e)),null!=e.token&&(fe.a.defaults.headers.common["Authorization"]="Bearer ".concat(e.token))},CLEAR_USER_DATA:function(t){t.userToken=null,localStorage.removeItem("user"),fe.a.defaults.headers.common["Authorization"]=null}},actions:{login:function(t,e){var a=t.commit;return fe.a.post(Te.backendURL+"/login",e).then((function(t){var e=t.data;location.reload(),a("SET_USER_DATA",e)}))},logout:function(t,e){var a=t.commit;a("CLEAR_USER_DATA"),he.push({name:"login"}),e&&this._vm.$bvToast.toast("You are now logged out!",{title:"Logged Out",variant:"success",toaster:"b-toaster-bottom-center",autoHideDelay:1500,solid:!0})}},getters:{loggedIn:function(t){return null!=t.userToken},validToken:function(t){return""!==t.userToken.token&&t.userToken.token.match(_e)},token:function(t){return JSON.stringify(t.userToken)},tokenPerson:function(t,e){var a=e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).person:null;if(null!=a)return a.substring(12)},tokenFirstName:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).firstName:null},tokenLastName:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).lastName:null},tokenRole:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).roles[0]:null},tokenCategoryName:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).categoryName:null},tokenEmploymentStatus:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).employmentStatus:null},tokenScheduledHours:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).scheduledHours:null},tokenUser:function(t,e){return e.loggedIn&&e.validToken?JSON.parse(atob(e.token.split(".")[1])).username:null}},modules:{}}),ye=a("b1e0"),Ce=a("ecee"),Ee=a("ad3d"),De=a("c074");Ce["c"].add(De["a"]),s["default"].component("font-awesome-icon",Ee["a"]),s["default"].config.productionTip=!1,s["default"].use(ge.a,fe.a),s["default"].use(c["a"]),s["default"].use(ke.a),s["default"].use(o["a"]),s["default"].use(ye["a"]);var xe="spfa-api.herokuapp.com";s["default"].store=s["default"].prototype.apiUrlBase="https://"+xe+"/api",s["default"].prototype.role="NA";var Te=e["default"]={name:"url",backendURL:"https://"+xe,apiURL:"https://"+xe+"/api"};new s["default"]({router:he,store:we,data:{currentPerson:{}},created:function(){var t=this,e=localStorage.getItem("user");if(e){var a=JSON.parse(e);this.$store.commit("SET_USER_DATA",a),this.getPerson()}this.$store.getters.loggedIn&&!this.$store.getters.validToken&&this.$store.dispatch("logout",!1),fe.a.interceptors.response.use((function(t){return t}),(function(e){return 401===e.response.status&&t.$store.getters.loggedIn&&t.$store.dispatch("logout",!1),Promise.reject(e)}))},methods:{getPerson:function(){var t=this;this.axios.get(this.apiUrlBase+"/people/"+this.$store.getters.tokenPerson).then((function(e){Object.assign(t.currentPerson,e.data)}))}},computed:Object(r["a"])({},l["a"],{login:function(){return this.$store.getters.loggedIn}}),watch:{login:{deep:!0,handler:function(t,e){t&&this.getPerson()}}},render:function(t){return t(p)}}).$mount("#app")},5804:function(t,e,a){"use strict";var r=a("ee4b"),s=a.n(r);s.a},"59df":function(t,e,a){t.exports=a.p+"img/spfaLogo.0edf5665.png"},"5c0b":function(t,e,a){"use strict";var r=a("9c0c"),s=a.n(r);s.a},"704c":function(t,e,a){"use strict";var r=a("0b8a"),s=a.n(r);s.a},7226:function(t,e,a){},"7e9f":function(t,e,a){t.exports=a.p+"img/spfaVertical.978409bb.png"},"80e7":function(t,e,a){"use strict";var r=a("7226"),s=a.n(r);s.a},"8b47":function(t,e,a){},"8fb8":function(t,e,a){},"941d":function(t,e,a){},"9c0c":function(t,e,a){},a450:function(t,e,a){"use strict";var r=a("314e"),s=a.n(r);s.a},a7a0:function(t,e,a){"use strict";var r=a("1a8c"),s=a.n(r);s.a},cd84:function(t,e,a){"use strict";var r=a("e670"),s=a.n(r);s.a},d2b0:function(t,e,a){},d634:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var r=a("5530"),s=a("2f62"),o=Object(r["a"])({},Object(s["b"])(["loggedIn","tokenPerson","tokenRole","tokenFirstName","tokenLastName","tokenCategoryName","tokenEmploymentStatus","tokenScheduledHours"]))},dd50:function(t,e,a){"use strict";var r=a("8b47"),s=a.n(r);s.a},e670:function(t,e,a){},e963:function(t,e,a){},ee4b:function(t,e,a){}});
//# sourceMappingURL=app.16724588.js.map